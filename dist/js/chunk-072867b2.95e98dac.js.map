{"version":3,"sources":["webpack:///./src/components/Auth/AuthForm.vue?d382","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./src/views/CPartner/Login/Login.vue?b6f6","webpack:///./src/components/Auth/Login/LoginForm.vue?72e0","webpack:///./src/components/Auth/Login/LoginForm.vue","webpack:///./src/components/Auth/Login/LoginForm.vue?1cee","webpack:///./src/components/Auth/Login/LoginForm.vue?fc0b","webpack:///./src/views/CPartner/Login/Login.vue","webpack:///./src/views/CPartner/Login/Login.vue?6200","webpack:///./src/views/CPartner/Login/Login.vue?e80a","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./src/views/CPartner/Login/Login.vue?2142","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./src/components/Auth/Login/LoginForm.vue?5415","webpack:///./src/compositions/validators/useForm.ts","webpack:///./src/components/Auth/Login/useLoginForm.ts","webpack:///./src/components/Auth/AuthForm.vue?1c19","webpack:///./src/components/Auth/AuthForm.vue","webpack:///./src/components/Auth/AuthForm.vue?7f80","webpack:///./src/components/Auth/AuthForm.vue?f6e8"],"names":["$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","target","proto","forced","includes","searchString","String","this","indexOf","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","staticRenderFns","on","$event","preventDefault","onLogin","loginForm","errors","phone","model","value","values","callback","$$v","$set","expression","password","_v","name","components","PhoneInput","setup","useLoginForm","afterLogin","useRouter","push","component","metaInfo","title","AuthForm","LoginForm","isObject","classof","wellKnownSymbol","MATCH","module","exports","it","isRegExp","TypeError","METHOD_NAME","regexp","error1","error2","useForm","params","defaultValues","watchAfterSubmit","fields","rename","Object","assign","plainValues","plainErrors","isValid","isSubmit","isSubmiting","keys","map","key","field","validate","resolvers","Promise","all","boolArray","handleSubmit","cb","serialize","toSend","currentKey","newErrors","currentErrors","newValues","typeError","required","sendInfo","login","error","fetchUser","fetchBalance","e","$slots","_t","_s","_e"],"mappings":"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","file":"js/chunk-072867b2.95e98dac.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuthForm.vue?vue&type=style&index=0&lang=scss&\"","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-login auth-page\"},[_c('div',{staticClass:\"login-form-wrapper\"},[_c('auth-form',{attrs:{\"title\":\"Личный кабинет\"}},[_c('login-form')],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-form\"},[_c('form',{staticClass:\"login-form__form\",attrs:{\"action\":\"#\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onLogin($event)}}},[_c('phone-input',{staticClass:\"login-form__input\",attrs:{\"label\":\"+7 999 999 99 99*\",\"errors\":_vm.loginForm.errors.phone},model:{value:(_vm.loginForm.values.phone),callback:function ($$v) {_vm.$set(_vm.loginForm.values, \"phone\", $$v)},expression:\"loginForm.values.phone\"}}),_c('app-input',{staticClass:\"login-form__input\",attrs:{\"label\":\"Пароль\",\"type\":\"password\",\"errors\":_vm.loginForm.errors.password},model:{value:(_vm.loginForm.values.password),callback:function ($$v) {_vm.$set(_vm.loginForm.values, \"password\", $$v)},expression:\"loginForm.values.password\"}}),_c('app-button',{attrs:{\"color\":\"orange-grad\",\"width\":\"220px\"}},[_vm._v(\"Войти\")])],1),_c('div',{staticClass:\"login-form__footer\"},[_c('div',{staticClass:\"login-form__link\"},[_vm._v(\" У вас нет аккаунта? \"),_c('router-link',{attrs:{\"to\":{ name: 'Register' }}},[_vm._v(\"Регистрация\")])],1),_c('div',{staticClass:\"login-form__link\"},[_c('router-link',{attrs:{\"to\":\"#\"}},[_vm._v(\"Восстановление доступа\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport PhoneInput from \"../../PhoneInput.vue\";\nimport { UserModule } from \"@/store/modules/user\";\nimport { ref, watch } from \"@vue/composition-api\";\nimport { Component, Vue } from \"vue-property-decorator\";\nimport useLoginForm from \"./useLoginForm\";\nimport \"yup-phone\";\nimport useRouter from \"@/compositions/useRouter\";\n@Component({\n  components: { PhoneInput },\n  setup() {\n    const { loginForm, onLogin } = useLoginForm({\n      afterLogin: () => {\n        useRouter().push({ name: \"Statistics\" });\n      },\n    });\n    return {\n      loginForm,\n      onLogin,\n    };\n  },\n})\nexport default class LoginForm extends Vue {}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginForm.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginForm.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LoginForm.vue?vue&type=template&id=642086bb&\"\nimport script from \"./LoginForm.vue?vue&type=script&lang=ts&\"\nexport * from \"./LoginForm.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./LoginForm.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\nimport LoginForm from '@/components/Auth/Login/LoginForm.vue'\nimport AuthForm from \"@/components/Auth/AuthForm.vue\";\nimport { Component, Vue } from \"vue-property-decorator\";\n\n@Component({\n  metaInfo: {\n    title: 'Вход'\n  },\n  components: {\n    AuthForm, LoginForm\n  },\n  setup() {\n      return {}\n  },\n})\nexport default class Login extends Vue {\n  \n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=67f2921c&\"\nimport script from \"./Login.vue?vue&type=script&lang=ts&\"\nexport * from \"./Login.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&\"","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginForm.vue?vue&type=style&index=0&lang=scss&\"","import { reactive, ref, Ref, watch } from \"@vue/composition-api\";\nimport { UseFieldModel } from \"./useField\";\n\n\ninterface UseFormParams {\n    fields: {\n        [key: string]: UseFieldModel\n    },\n    watchAfterSubmit?: boolean,\n    rename?: {\n        [key: string]: string\n    },\n}\ninterface UseFormErrors {\n    [key: string]: Ref<string[]>\n}\nexport default function useForm(params: UseFormParams) {\n    const defaultValues: UseFormParams = {\n        watchAfterSubmit: true,\n        fields: {},\n        rename: {}\n    }\n    const { fields, watchAfterSubmit, rename } = Object.assign({}, defaultValues, params)\n    let plainValues = {}\n    let plainErrors = {}\n    const isValid = ref(false)\n    const isSubmit = ref(false)\n    const isSubmiting = ref(false)\n    Object.keys(fields).map(key => {\n        const field: UseFieldModel = fields[key]\n        plainValues[key] = field.value\n        plainErrors[key] = field.errors\n    })\n    const values = reactive<{ [key: string]: any }>(plainValues)\n    const errors: any = reactive<{ [key: string]: Array<string> }>(plainErrors)\n\n    const validate = async () => {\n        const resolvers = Object.keys(fields).map(key => {\n            const field: UseFieldModel = fields[key]\n            return field.validate()\n        })\n        const boolArray = await Promise.all(resolvers)\n        return !boolArray.includes(false)\n    }\n    const handleSubmit = (cb: Function) => {\n        return async (...params: any) => {\n            isSubmit.value = true\n            await validate()\n            if (!isValid.value) return\n            if (isSubmiting.value) return\n            isSubmiting.value = true\n            await cb(...params)\n            isSubmiting.value = false\n        }\n    }\n\n    const serialize = () => {\n        const keys = Object.keys(values)\n        const toSend: any = {}\n        keys.map(key => {\n            let currentKey = rename[key]\n            if (!currentKey) currentKey = key\n            toSend[currentKey] = values[key]\n        })\n        return toSend\n    }\n\n    watch(errors, (newErrors: any) => {\n        const boolArray = Object.keys(newErrors).map(key => {\n            const currentErrors = newErrors[key]\n            return currentErrors.length < 1\n        })\n        isValid.value = !boolArray.includes(false)\n    })\n    watch(isSubmit, () => {\n        if (isSubmit && watchAfterSubmit) {\n            watch(values, newValues => {\n                validate()\n            })\n        }\n    })\n\n\n    return { values, errors, isValid, handleSubmit, validate, serialize }\n}\n","import useRouter from '@/compositions/useRouter'\nimport useField from '@/compositions/validators/useField'\nimport useForm from '@/compositions/validators/useForm'\nimport { UserModule } from '@/store/modules/user'\nimport * as yup from 'yup'\nexport default function useLoginForm({ afterLogin }: { afterLogin: Function }) {\n  const router = useRouter()\n  // login.exec({\n  //   phone: \"+79660108888\",\n  //   password: \"123456\",\n  //   deviceName: \"test\",\n  // });\n  const loginForm = useForm({\n    fields: {\n      phone: useField(\n        process.env.NODE_ENV === 'development' ? '+79660108888' : '',\n        [yup.number().typeError('Введите корректный номер телефона')],\n      ),\n      password: useField(\n        process.env.NODE_ENV === 'development' ? '123456' : '',\n        [yup.string().required('Введите пароль')],\n      ),\n    },\n\n    watchAfterSubmit: true,\n  })\n\n  const sendInfo = async () => {\n    const login = await UserModule.login({\n      phone: loginForm.values.phone,\n      password: loginForm.values.password,\n    })\n    if (!login.error.value) {\n      await UserModule.fetchUser()\n      await UserModule.fetchBalance()\n      afterLogin()\n    }\n  }\n\n  const onLogin = loginForm.handleSubmit(async (e: MouseEvent) => {\n    e.preventDefault()\n    await sendInfo()\n  })\n\n  return {\n    onLogin,\n    loginForm,\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"auth-form\"},[_c('div',{staticClass:\"auth-form__image\"}),_c('div',{staticClass:\"auth-form__form-wrapper\"},[(_vm.title || _vm.$slots.title)?_c('div',{staticClass:\"auth-form__title h2\"},[_vm._t(\"title\",[_vm._v(\" \"+_vm._s(_vm.title)+\" \")])],2):_vm._e(),_c('div',{staticClass:\"auth-form__form\"},[_vm._t(\"default\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\n\n@Component\nexport default class extends Vue {\n  @Prop(String) title: string;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuthForm.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuthForm.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AuthForm.vue?vue&type=template&id=90430bb6&\"\nimport script from \"./AuthForm.vue?vue&type=script&lang=ts&\"\nexport * from \"./AuthForm.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AuthForm.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}