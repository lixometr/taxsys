(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-576ab2ed"],{"0772":function(t,e,a){"use strict";a("f17b")},1311:function(t,e,a){},2290:function(t,e,a){"use strict";a("f009")},"253f":function(t,e,a){"use strict";a("8384")},"5638e":function(t,e,a){"use strict";a("6503")},5789:function(t,e,a){},6503:function(t,e,a){},"68d4":function(t,e,a){"use strict";a("1311")},7783:function(t,e,a){},8384:function(t,e,a){},"8f69":function(t,e,a){"use strict";a("5789")},a3b0:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-statistics flex-layout flex-1"},[a("page-filters",{attrs:{calendar:t.date},on:{"update:calendar":function(e){t.date=e}},scopedSlots:t._u([{key:"filters",fn:function(){return[a("agregator-filters",{model:{value:t.agregator,callback:function(e){t.agregator=e},expression:"agregator"}})]},proxy:!0}])}),a("statistics-row",{staticClass:"mt-20",attrs:{value:t.statistics}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-7 flex-layout"},[a("statistics-travels",{staticClass:"statistics-item flex-1",attrs:{value:t.statistics}})],1),a("div",{staticClass:"col-lg-5 flex-layout"},[a("statistics-ratio",{staticClass:"statistics-item flex-1",attrs:{value:t.statistics}})],1),a("div",{staticClass:"col-lg-7 flex-layout"},[a("statistics-park-commission",{staticClass:"statistics-item flex-1",attrs:{value:t.statistics}})],1),a("div",{staticClass:"col-lg-5 flex-layout"},[a("statistics-pay-off",{staticClass:"statistics-item flex-1",attrs:{value:t.statistics}})],1)])],1)},i=[],r=(a("ac1f"),a("96cf"),a("1da1")),n=a("d4ec"),c=a("262e"),o=a("2caf"),l=a("9ab4"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("statistics-item",{staticClass:"statistics-commission",scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"statistics-commission__header-row"},[a("div",{staticClass:"statistics-item__title"},[t._v("Комиссия парка")]),a("div",{staticClass:"statistics-commission__header-price"},[t._v(" "+t._s(t.parkCommission)+" "+t._s(t.currency)+" ")])])]},proxy:!0}])},[[a("apexchart",{attrs:{width:"100%",height:"350",type:"area",options:t.chartOptions,series:t.series}})]],2)},v=[],d=(a("99af"),a("d81d"),a("b64b"),a("bee2")),f=a("257e"),b=a("ade3"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"statistics-item app-card"},[a("div",{staticClass:"statistics-item__header"},[t._t("header")],2),a("div",{staticClass:"statistics-item__content"},[t._t("default")],2)])},m=[],_=a("1b40"),O=function(t){Object(c["a"])(a,t);var e=Object(o["a"])(a);function a(){return Object(n["a"])(this,a),e.apply(this,arguments)}return a}(_["d"]);O=Object(l["a"])([_["a"]],O);var h,j=O,y=j,g=(a("bc5f"),a("2877")),w=Object(g["a"])(y,p,m,!1,null,null,null),x=w.exports,C=a("a6f4"),k=a("8234"),M=(h=function(t){Object(c["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;Object(n["a"])(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(f["a"])(t),"value",void 0),t}return Object(d["a"])(a,[{key:"currency",get:function(){return this.$store.getters.currency}},{key:"parkCommission",get:function(){var t;return(null===(t=this.value.fees)||void 0===t?void 0:t.total_agreg_fee)||0}}]),a}(_["d"]),h);Object(l["a"])([Object(_["c"])({type:Object,default:function(){return{}}})],M.prototype,"value",void 0),M=Object(l["a"])([Object(_["a"])({setup:function(t){var e=Object(C["g"])(t),a=e.value,s=Object(C["a"])((function(){var t,e;return(null===(t=a.value)||void 0===t||null===(e=t.fees)||void 0===e?void 0:e.data)||{}})),i=Object(C["a"])((function(){var t=Object.keys(s.value).map((function(t){return new Date(t)}));return t.sort((function(t,e){return e.getTime()-t.getTime()})),t.map((function(t){return Object(k["a"])(t).format("YYYY-MM-DD")}))})),r=Object(C["a"])((function(){return{chart:{toolbar:{show:!1},zoom:{enabled:!1}},stroke:{curve:"smooth"},dataLabels:{enabled:!1},xaxis:{type:"datetime",categories:i.value,labels:{style:{fontFamily:"Montserrat"},datetimeFormatter:{year:"yyyy",month:"dd.MM.yy",day:"dd.MM",hour:"HH:mm"}}},legend:{show:!1},colors:["#5A13A7"],tooltip:{enabled:!0,custom:function(t){var e=t.series,a=t.seriesIndex,s=t.dataPointIndex;return'<div class="statistics-item__tooltip"><span>'+e[a][s]+"</span></div>"}}}})),n=Object(C["a"])((function(){var t=Object.keys(s.value).map((function(t){return s.value[t].park_fee}));return[{name:"Сумма заказов",data:t}]}));return{series:n,chartOptions:r}},components:{StatisticsItem:x}})],M);var S,F=M,I=F,D=(a("2290"),Object(g["a"])(I,u,v,!1,null,null,null)),z=D.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("statistics-item",{staticClass:"statistics-travels h-100",scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"statistics-item__title"},[t._v("Выплаты водителям")])]},proxy:!0}])},[[a("apexchart",{attrs:{width:"100%",height:"400",type:"donut",options:t.chartOptions,series:t.series}})]],2)},A=[],$=(S=function(t){Object(c["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;Object(n["a"])(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(f["a"])(t),"value",void 0),t}return Object(d["a"])(a,[{key:"series",get:function(){var t,e,a;return[null===(t=this.value.drivers)||void 0===t?void 0:t.total_paid,null===(e=this.value.drivers)||void 0===e?void 0:e.total_drivers,null===(a=this.value.drivers)||void 0===a?void 0:a.total_pay_fee]}}]),a}(_["d"]),S);Object(l["a"])([Object(_["c"])({type:Object,default:function(){return{}}})],$.prototype,"value",void 0),$=Object(l["a"])([Object(_["a"])({setup:function(){var t={chart:{type:"donut"},plotOptions:{pie:{customScale:1,donut:{size:"75%"}}},dataLabels:{enabled:!1},legend:{show:!0,position:"bottom",fontSize:"16px",fontFamily:"Montserrat",formatter:function(t,e){var a=e.w.globals.series[e.seriesIndex];return'<div class="statistics-item__legend">\n            '.concat(t," - <b>").concat(a," ₽</b>\n          </div>")},itemMargin:{horizontal:20,vertical:0}},colors:["#45117B","#FFB801","#F44879"],fill:{opacity:1},tooltip:{enabled:!0,custom:function(t){var e=t.series,a=t.seriesIndex;t.dataPointIndex,t.w;return'<div class="statistics-item__tooltip"><span>'+e[a]+"</span></div>"}},labels:["Выплата агрегаторам","Выплачено водителям","Комиссия платежной системы"]};return{chartOptions:t}},components:{StatisticsItem:x}})],$);var E,B=$,G=B,P=(a("5638e"),Object(g["a"])(G,T,A,!1,null,null,null)),R=P.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("statistics-item",{staticClass:"statistics-travels h-100",scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"statistics-item__title"},[t._v("Соотношение")])]},proxy:!0}])},[[a("apexchart",{attrs:{width:"100%",height:"350",type:"donut",options:t.chartOptions,series:t.series}})]],2)},L=[],V=(E=function(t){Object(c["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;Object(n["a"])(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(f["a"])(t),"value",void 0),t}return Object(d["a"])(a,[{key:"series",get:function(){var t,e;return[null===(t=this.value.trips)||void 0===t?void 0:t.total_cashless,null===(e=this.value.trips)||void 0===e?void 0:e.total_cash]}},{key:"ratioValue",get:function(){return this.value.trips}}]),a}(_["d"]),E);Object(l["a"])([Object(_["c"])({type:Object,default:function(){return{}}})],V.prototype,"value",void 0),V=Object(l["a"])([Object(_["a"])({setup:function(){var t={chart:{type:"donut"},plotOptions:{pie:{customScale:1,donut:{size:"75%",labels:{show:!0,name:{show:!0},value:{show:!0}}}}},dataLabels:{enabled:!1},legend:{show:!0,position:"bottom",fontSize:"16px",fontFamily:"Montserrat",formatter:function(t,e){var a=e.w.globals.series[e.seriesIndex];return'<div class="statistics-item__legend">\n            '.concat(t," - <b>").concat(a," ₽</b>\n          </div>")},itemMargin:{horizontal:20,vertical:0}},colors:["#45117B","#FFB801","#F44879"],fill:{opacity:1},tooltip:{enabled:!0,custom:function(t){var e=t.series,a=t.seriesIndex;t.dataPointIndex,t.w;return'<div class="statistics-item__tooltip"><span>'+e[a]+"</span></div>"}},labels:["Безналичные","Наличные"]};return{chartOptions:t}},components:{StatisticsItem:x}})],V);var Y,N=V,J=N,q=(a("68d4"),Object(g["a"])(J,H,L,!1,null,null,null)),K=q.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("statistics-item",{staticClass:"statistics-travels",scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"statistics-item__title"},[t._v("Сумма поездок")])]},proxy:!0}])},[[a("div",{staticClass:"statistics-travels__labels"},[a("div",{staticClass:"statistics-travels__label"},[t._v(" Сумма заказов - "),a("span",[t._v(t._s(t.orderSum)+" "+t._s(t.currency))])]),a("div",{staticClass:"statistics-travels__label"},[t._v(" Расчетная выплата - "),a("span",[t._v(t._s(t.payoutSum)+" "+t._s(t.currency))])])]),a("apexchart",{attrs:{width:"100%",height:"400",type:"bar",options:t.chartOptions,series:t.series}})]],2)},U=[],W=(a("13d5"),Y=function(t){Object(c["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;Object(n["a"])(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(f["a"])(t),"value",void 0),t}return Object(d["a"])(a,[{key:"currency",get:function(){return this.$store.getters.currency}}]),a}(_["d"]),Y);Object(l["a"])([Object(_["c"])({type:Object,default:function(){return{}}})],W.prototype,"value",void 0),W=Object(l["a"])([Object(_["a"])({setup:function(t,e){e.emit;var a=Object(C["g"])(t),s=a.value,i={chart:{stacked:!0,toolbar:{show:!1},zoom:{enabled:!1}},plotOptions:{bar:{borderRadius:8,horizontal:!1}},dataLabels:{enabled:!1},xaxis:{type:"datetime",categories:["01/01/2011 GMT","01/02/2011 GMT","01/03/2011 GMT","01/04/2011 GMT","01/05/2011 GMT","01/06/2011 GMT"],labels:{style:{fontFamily:"Montserrat"},datetimeFormatter:{year:"yyyy",month:"dd.MM.yy",day:"dd.MM",hour:"HH:mm"}}},legend:{show:!1,position:"top",fontSize:"16px",fontFamily:"Montserrat",formatter:function(t,e){var a=e.w.globals.series[e.seriesIndex].reduce((function(t,e){return t+e}),0);return"".concat(t," - <b>").concat(a," ₽</b>")},itemMargin:{horizontal:20,vertical:0}},colors:["#45117B","#FFB801"],fill:{opacity:1},tooltip:{enabled:!0,custom:function(t){var e=t.series,a=t.seriesIndex,s=t.dataPointIndex;t.w;return'<div class="statistics-item__tooltip"><span>'+e[a][s]+"</span></div>"}}},r=[{data:[30,40,35,50,49,60,70,91],fillColor:"#f00"},{data:[50,40,35,50,49,60,70,91],fillColor:"#008FFB"}],n=Object(C["a"])((function(){var t;return null===(t=s.value.trips)||void 0===t?void 0:t.sum})),c=Object(C["a"])((function(){var t;return null===(t=s.value.trips)||void 0===t?void 0:t.total_payout}));return{payoutSum:c,orderSum:n,series:r,chartOptions:i}},components:{StatisticsItem:x}})],W);var X,Z=W,tt=Z,et=(a("253f"),Object(g["a"])(tt,Q,U,!1,null,null,null)),at=et.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"statistics-row app-card"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-3 col-md-6 statistics-row__title"},[t._v(" Количество водителей ")]),a("div",{staticClass:"col-lg-3 col-md-6"},[a("div",{staticClass:"statistics-row__item"},[a("div",{staticClass:"statistics-row__label"},[t._v("Всего")]),a("div",{staticClass:"statistics-row__value"},[t._v(t._s(t.totalDrivers))])])]),a("div",{staticClass:"col-lg-3 col-md-6"},[a("div",{staticClass:"statistics-row__item"},[a("div",{staticClass:"statistics-row__label"},[t._v("Активные")]),a("div",{staticClass:"statistics-row__value"},[t._v(t._s(t.totalActiveDrivers))])])]),a("div",{staticClass:"col-lg-3 col-md-6"},[a("div",{staticClass:"statistics-row__item"},[a("div",{staticClass:"statistics-row__label"},[t._v("Новые")]),a("div",{staticClass:"statistics-row__value"},[t._v(t._s(t.totalNewDrivers))])])])])])},it=[],rt=(X=function(t){Object(c["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;Object(n["a"])(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(f["a"])(t),"value",void 0),t}return Object(d["a"])(a,[{key:"totalDrivers",get:function(){var t;return null===(t=this.value.drivers)||void 0===t?void 0:t.total_drivers}},{key:"totalActiveDrivers",get:function(){var t;return null===(t=this.value.drivers)||void 0===t?void 0:t.total_active_drivers}},{key:"totalNewDrivers",get:function(){var t;return null===(t=this.value.drivers)||void 0===t?void 0:t.total_new_drivers}}]),a}(_["d"]),X);Object(l["a"])([Object(_["c"])({type:Object,default:function(){return{}}})],rt.prototype,"value",void 0),rt=Object(l["a"])([_["a"]],rt);var nt=rt,ct=nt,ot=(a("8f69"),Object(g["a"])(ct,st,it,!1,null,null,null)),lt=ot.exports,ut=a("0038"),vt=a("70e2"),dt=a("5530"),ft=a("85cd"),bt=a("84f8"),pt=function(t){return Object(ft["a"])((function(t){return{method:"GET",url:"/stats",params:Object(bt["a"])(t)}}),Object(dt["a"])({},t))},mt=a("8fbb"),_t=a("a4ad"),Ot=a("d92d"),ht=function t(){Object(n["a"])(this,t),Object(b["a"])(this,"date_from",void 0),Object(b["a"])(this,"date_to",void 0),Object(b["a"])(this,"agregator",void 0)};Object(l["a"])([Object(_t["a"])()],ht.prototype,"date_from",void 0),Object(l["a"])([Object(_t["a"])()],ht.prototype,"date_to",void 0),Object(l["a"])([Object(Ot["a"])((function(t){var e=t.value;return"all"===e?void 0:e}))],ht.prototype,"agregator",void 0);var jt=function(t){Object(c["a"])(a,t);var e=Object(o["a"])(a);function a(){return Object(n["a"])(this,a),e.apply(this,arguments)}return a}(_["d"]);jt=Object(l["a"])([Object(_["a"])({setup:function(){var t=new Date,e=new Date(t.setDate(t.getDate()-7)),a=Object(C["e"])({start:e,end:new Date}),s=Object(C["e"])("all"),i=Object(C["a"])((function(){return{date_from:a.value.start,date_to:a.value.end,agregator:s.value}})),n=Object(C["e"])({}),c=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,s,r,c,o,l,u,v=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=v.length>0&&void 0!==v[0]?v[0]:{},a=e.loading,s=void 0===a||a,r=pt({toast:{error:Object(mt["a"])()},loading:s}),c=r.exec,o=r.error,l=r.result,u=Object(bt["b"])(ht,i.value),t.next=5,c(u);case 5:if(!o.value){t.next=7;break}return t.abrupt("return");case 7:n.value=l.value;case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(C["h"])(i,(function(){c({loading:!1})})),c();var o=Object(C["a"])((function(){return n.value.trips})),l=Object(C["a"])((function(){return n.value.drivers})),u=Object(C["a"])((function(){return n.value.fees}));return{date:a,agregator:s,statistics:n,travelsValue:o,driversValue:l,parkCommissionValue:u}},components:{AgregatorFilters:vt["a"],PageFilters:ut["a"],StatisticsRow:lt,StatisticsTravels:at,StatisticsRatio:K,StatisticsPayOff:R,StatisticsParkCommission:z},metaInfo:{title:"Статистика"}})],jt);var yt=jt,gt=yt,wt=(a("0772"),Object(g["a"])(gt,s,i,!1,null,null,null));e["default"]=wt.exports},a4ad:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var s=a("8234"),i=a("d92d"),r=a("52c3"),n=function(){return Object(i["a"])((function(t){var e=t.value;return e?Object(s["a"])(e).format(r["a"]):void 0}))}},bc5f:function(t,e,a){"use strict";a("7783")},d92d:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var s=a("922d");function i(t,e){return void 0===e&&(e={}),function(a,i){s["a"].addTransformMetadata({target:a.constructor,propertyName:i,transformFn:t,options:e})}}},f009:function(t,e,a){},f17b:function(t,e,a){}}]);
//# sourceMappingURL=chunk-576ab2ed.62b7253e.js.map