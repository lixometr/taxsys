(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9d15eb0a"],{"0f76":function(t,e,r){"use strict";r("45aa")},2532:function(t,e,r){"use strict";var n=r("23e7"),a=r("5a34"),c=r("1d80"),u=r("ab13");n({target:"String",proto:!0,forced:!u("includes")},{includes:function(t){return!!~String(c(this)).indexOf(a(t),arguments.length>1?arguments[1]:void 0)}})},"2f46":function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r("d92d"),a=function(){return Object(n["a"])((function(t){var e=t.value;return parseInt(e)}))}},"45aa":function(t,e,r){},"5a34":function(t,e,r){var n=r("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},"764f":function(t,e,r){"use strict";r("9cb1")},"9cb1":function(t,e,r){},a4ad:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var n=r("8234"),a=r("d92d"),c=r("52c3"),u=function(){return Object(a["a"])((function(t){var e=t.value;return e?Object(n["a"])(e).format(c["a"]):void 0}))}},ab13:function(t,e,r){var n=r("b622"),a=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[a]=!1,"/./"[t](e)}catch(n){}}return!1}},d4e3:function(t,e,r){"use strict";r("f83a")},d5c2:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));r("caad"),r("d81d"),r("b64b"),r("d3b7"),r("2532"),r("3ca3"),r("ddb0"),r("96cf");var n=r("1da1"),a=r("a6f4");function c(t){var e={watchAfterSubmit:!0,fields:{},rename:{}},r=Object.assign({},e,t),c=r.fields,u=r.watchAfterSubmit,o=r.rename,i={},s={},d=Object(a["e"])(!1),b=Object(a["e"])(!1),f=Object(a["e"])(!1);Object.keys(c).map((function(t){var e=c[t];i[t]=e.value,s[t]=e.errors}));var l=Object(a["d"])(i),v=Object(a["d"])(s),O=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=Object.keys(c).map((function(t){var e=c[t];return e.validate()})),t.next=3,Promise.all(e);case 3:return r=t.sent,t.abrupt("return",!r.includes(!1));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(t){return Object(n["a"])(regeneratorRuntime.mark((function e(){var r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return b.value=!0,e.next=3,O();case 3:if(d.value){e.next=5;break}return e.abrupt("return");case 5:if(!f.value){e.next=7;break}return e.abrupt("return");case 7:return f.value=!0,e.next=10,t.apply(void 0,r);case 10:f.value=!1;case 11:case"end":return e.stop()}}),e)})))},j=function(){var t=Object.keys(l),e={};return t.map((function(t){var r=o[t];r||(r=t),e[r]=l[t]})),e};return Object(a["h"])(v,(function(t){var e=Object.keys(t).map((function(e){var r=t[e];return r.length<1}));d.value=!e.includes(!1)})),Object(a["h"])(b,(function(){b&&u&&Object(a["h"])(l,(function(t){O()}))})),{values:l,errors:v,isValid:d,handleSubmit:p,validate:O,serialize:j}}},dbe0:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("modal-content",t._g({staticClass:"add-car-record-modal",scopedSlots:t._u([{key:"header",fn:function(){return[r("h2",{staticClass:"modal-title"},[t._v("Добавить запись о ТО")])]},proxy:!0}])},t.$listeners),[[r("add-car-record-form",{attrs:{id:t.id},on:{send:t.onSend}})]],2)},a=[],c=(r("99af"),r("a9e3"),r("d4ec")),u=r("257e"),o=r("262e"),i=r("2caf"),s=r("ade3"),d=r("9ab4"),b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"add-car-record-form"},[r("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[r("app-date-picker",{staticClass:"mb-10",attrs:{label:"Дата проведения",errors:t.errors.date},model:{value:t.values.date,callback:function(e){t.$set(t.values,"date",e)},expression:"values.date"}}),r("app-input",{staticClass:"mb-10",attrs:{label:"Пробег",errors:t.errors.run},model:{value:t.values.run,callback:function(e){t.$set(t.values,"run",e)},expression:"values.run"}}),r("app-input",{staticClass:"mb-10",attrs:{label:"Проведённые работы",errors:t.errors.works},model:{value:t.values.works,callback:function(e){t.$set(t.values,"works",e)},expression:"values.works"}}),r("div",{staticClass:"d-flex justify-content-center"},[r("app-button",{staticClass:"add-car-record-form__btn mt-10",attrs:{type:"submit",color:"orange-grad"}},[t._v("Выполнить")])],1)],1)])},f=[],l=(r("d3b7"),r("ac1f"),r("ddb0"),r("5530")),v=(r("96cf"),r("1da1")),O=r("ed81"),p=r("e940"),j=r("d5c2"),h=r("1b40"),m=r("506a"),g=r("e28d"),k=r("8fbb"),w=r("84f8"),y=r("a4ad"),_=r("2f46"),x=function t(){Object(c["a"])(this,t),Object(s["a"])(this,"car_id",void 0),Object(s["a"])(this,"mileage",void 0),Object(s["a"])(this,"note",void 0),Object(s["a"])(this,"done_at",void 0)};Object(d["a"])([Object(_["a"])()],x.prototype,"car_id",void 0),Object(d["a"])([Object(_["a"])()],x.prototype,"mileage",void 0),Object(d["a"])([Object(y["a"])()],x.prototype,"done_at",void 0);var S,C=r("a6f4"),T=(S=function(t){Object(o["a"])(r,t);var e=Object(i["a"])(r);function r(){var t;Object(c["a"])(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a)),Object(s["a"])(Object(u["a"])(t),"id",void 0),t}return r}(h["d"]),S);Object(d["a"])([Object(h["c"])(Number)],T.prototype,"id",void 0),T=Object(d["a"])([Object(h["a"])({components:{AppDatePicker:O["a"]},setup:function(t,e){var r=e.emit,n=Object(C["g"])(t),a=n.id,c=Object(j["a"])({fields:{date:Object(p["a"])("",[m["string"]().required()]),run:Object(p["a"])("",[m["number"]().required()]),works:Object(p["a"])("",[m["string"]().required()])},rename:{run:"mileage",works:"note",date:"done_at"}}),u=c.handleSubmit,o=c.values,i=c.errors,s=c.serialize,d=u(Object(v["a"])(regeneratorRuntime.mark((function t(){var e,n,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=s(),n=Object(g["b"])({toast:{error:Object(k["a"])(),success:function(){return"Запись успешно добавлена!"}}}),c=n.exec,u=n.error,t.next=4,c(Object(w["b"])(x,Object(l["a"])(Object(l["a"])({},e),{},{car_id:a.value})));case 4:if(!u.value){t.next=6;break}return t.abrupt("return");case 6:r("send");case 7:case"end":return t.stop()}}),t)}))));return{onSubmit:d,values:o,errors:i}}})],T);var E,P=T,A=P,R=(r("d4e3"),r("2877")),$=Object(R["a"])(A,b,f,!1,null,null,null),F=$.exports,U=r("9c8b"),B=r("e51b"),D=(E=function(t){Object(o["a"])(r,t);var e=Object(i["a"])(r);function r(){var t;Object(c["a"])(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a)),Object(s["a"])(Object(u["a"])(t),"id",void 0),t}return r}(h["d"]),E);Object(d["a"])([Object(h["c"])(Number)],D.prototype,"id",void 0),D=Object(d["a"])([Object(h["a"])({components:{ModalContent:B["a"],AddCardForm:U["a"],AddCarRecordForm:F},setup:function(t,e){var r=e.emit,n=function(){r("send"),r("close")};return{onSend:n}}})],D);var q=D,G=q,z=(r("0f76"),Object(R["a"])(G,n,a,!1,null,null,null));e["default"]=z.exports},e28d:function(t,e,r){"use strict";r.d(e,"i",(function(){return s})),r.d(e,"l",(function(){return d})),r.d(e,"k",(function(){return b})),r.d(e,"j",(function(){return f})),r.d(e,"h",(function(){return l})),r.d(e,"d",(function(){return v})),r.d(e,"a",(function(){return O})),r.d(e,"m",(function(){return p})),r.d(e,"b",(function(){return j})),r.d(e,"g",(function(){return h})),r.d(e,"f",(function(){return m})),r.d(e,"e",(function(){return g})),r.d(e,"c",(function(){return k}));r("96cf");var n=r("1da1"),a=r("5530"),c=r("85cd"),u=r("ab3e"),o=r("1f70"),i=r("84f8"),s=function(t){return Object(c["a"])((function(t){var e=Object(a["a"])(Object(a["a"])({},Object(i["a"])(t)),{},{photoFront:t.photoFront||void 0,photoBack:t.photoBack||void 0,photoCtcBack:t.photoCtcBack||void 0,photoCtcFront:t.photoCtcFront||void 0}),r=Object(u["a"])(e);return{method:"POST",url:"/car",data:r}}),Object(a["a"])({},t))},d=function(t){return Object(c["a"])((function(t){var e=t.withoutDriver,r=t.paginate,n=void 0===r||r;return{method:"GET",url:"/cars/rentable",params:{without_driver:!1===e?0:void 0===e?void 0:1,paginate:n?10:0}}}),Object(a["a"])({},t))},b=function(t){return Object(c["a"])((function(t){var e=t.id;return{method:"GET",url:"/car/".concat(e)}}),Object(a["a"])({},t),function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.data,t.abrupt("return",Object(i["b"])(o["a"],r));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},f=function(t){return Object(c["a"])((function(t){var e=t.id;return{method:"DELETE",url:"/car/".concat(e)}}),Object(a["a"])({},t))},l=function(t){return Object(c["a"])((function(t){var e=t.id,r=t.data;return{method:"PUT",url:"/car/".concat(e),data:{tracker:Object(i["a"])(r)}}}),Object(a["a"])({},t))},v=function(t){return Object(c["a"])((function(t){var e=t.id;return{method:"PUT",url:"/car/".concat(e),data:{driver_id:null}}}),Object(a["a"])({},t))},O=function(t){return Object(c["a"])((function(t){var e=t.id;return{method:"POST",url:"/car/".concat(e,"/tracker/block")}}),Object(a["a"])({},t))},p=function(t){return Object(c["a"])((function(t){var e=t.id;return{method:"POST",url:"/car/".concat(e,"/tracker/unblock")}}),Object(a["a"])({},t))},j=function(t){return Object(c["a"])((function(t){return{method:"POST",url:"/inspection",data:Object(i["a"])(t)}}),Object(a["a"])({},t))},h=function(t){return Object(c["a"])((function(t){var e=t.id,r=t.data;return{method:"PUT",url:"/car/".concat(e),data:{options:Object(i["a"])(r)}}}),Object(a["a"])({},t))},m=function(t){return Object(c["a"])((function(t){var e=t.id,r=t.data;return{method:"PUT",url:"/car/".concat(e),data:Object(i["a"])(r)}}),Object(a["a"])({},t))},g=function(t){return Object(c["a"])((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.paginate;return{method:"GET",url:"/cars/offers",params:{paginate:e}}}),Object(a["a"])({},t))},k=function(t){return Object(c["a"])((function(t){var e=t.id,r=t.driverId;return{method:"PUT",url:"/car/".concat(e,"/changedriver"),data:{driver_id:r}}}),Object(a["a"])({},t))}},ed81:function(t,e,r){"use strict";var n,a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-datepicker",class:{error:t.hasErrors}},[r("v-date-picker",t._g(t._b({scopedSlots:t._u([{key:"default",fn:function(e){var n=e.inputValue,a=e.inputEvents,c=e.togglePopover;return[r("app-input",{attrs:{value:n,label:t.label,errors:t.errors},on:{click:c},nativeOn:{change:function(t){return a.change(t)}}})]}}])},"v-date-picker",t._attrs,!1),t.$listeners))],1)},c=[],u=(r("99af"),r("d4ec")),o=r("bee2"),i=r("257e"),s=r("262e"),d=r("2caf"),b=r("ade3"),f=r("9ab4"),l=r("1b40"),v=(n=function(t){Object(s["a"])(r,t);var e=Object(d["a"])(r);function r(){var t;Object(u["a"])(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return t=e.call.apply(e,[this].concat(a)),Object(b["a"])(Object(i["a"])(t),"label",void 0),Object(b["a"])(Object(i["a"])(t),"errors",void 0),t}return Object(o["a"])(r,[{key:"hasErrors",get:function(){return this.errors.length>0}},{key:"_attrs",get:function(){var t={};return Object.assign({},t,this.$attrs)}}]),r}(l["d"]),n);Object(f["a"])([Object(l["c"])(String)],v.prototype,"label",void 0),Object(f["a"])([Object(l["c"])({type:Array,default:function(){return[]}})],v.prototype,"errors",void 0),v=Object(f["a"])([Object(l["a"])({setup:function(){return{}}})],v);var O=v,p=O,j=(r("764f"),r("2877")),h=Object(j["a"])(p,a,c,!1,null,null,null);e["a"]=h.exports},f83a:function(t,e,r){}}]);
//# sourceMappingURL=chunk-9d15eb0a.3819ee6d.js.map