(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5cad94ff"],{"14bc":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal-content",t._g({staticClass:"add-staff-modal",scopedSlots:t._u([{key:"header",fn:function(){return[a("h2",{staticClass:"modal-title"},[t._v("Добавить сотрудника")])]},proxy:!0}])},t.$listeners),[[a("add-staff-form",{on:{send:t.onSend}})]],2)},s=[],n=a("d4ec"),o=a("262e"),i=a("2caf"),l=a("9ab4"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-staff-form"},[a("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("div",{staticClass:"row mb-15"},[a("div",{staticClass:"col-lg-6"},[a("app-input",{attrs:{label:"ФИО",errors:t.errors.fio},model:{value:t.values.fio,callback:function(e){t.$set(t.values,"fio",e)},expression:"values.fio"}})],1),a("div",{staticClass:"col-lg-6"},[a("phone-input",{attrs:{label:"Телефон",errors:t.errors.phone},model:{value:t.values.phone,callback:function(e){t.$set(t.values,"phone",e)},expression:"values.phone"}})],1)]),a("div",{staticClass:"mb-30"},[a("div",{staticClass:"add-staff-form__title-btn"},[a("div",[t._v("Дополнительные данные:")]),a("div",[a("app-button",{attrs:{size:"sm",color:"bold-purple",stroke:!0,type:"button"},on:{click:t.toggleAdditional}},[t.showAdditional?a("span",[t._v("скрыть")]):a("span",[t._v(" добавить "),a("svgPlus",{staticClass:"ml-10"})],1)])],1)]),t.showAdditional?a("div",{staticClass:"mt-20"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4"},[a("app-input",{attrs:{label:"Серия / номер паспорта",errors:t.errors.passport},model:{value:t.values.passport,callback:function(e){t.$set(t.values,"passport",e)},expression:"values.passport"}})],1),a("div",{staticClass:"col-lg-4"},[a("app-input",{attrs:{label:"ИНН",errors:t.errors.inn},model:{value:t.values.inn,callback:function(e){t.$set(t.values,"inn",e)},expression:"values.inn"}})],1),a("div",{staticClass:"col-lg-4"},[a("app-input",{attrs:{label:"Номер карты",errors:t.errors.card},model:{value:t.values.card,callback:function(e){t.$set(t.values,"card",e)},expression:"values.card"}})],1)])]):t._e()]),a("div",[a("div",{staticClass:"add-staff-form__title-btn"},[a("div",[t._v("Условия работы:")]),a("div",[a("app-button",{attrs:{size:"sm",color:"bold-purple",stroke:!0,type:"button"},on:{click:t.toggleConditions}},[t.showConditions?a("span",[t._v("скрыть")]):a("span",[t._v(" добавить "),a("svgPlus",{staticClass:"ml-10"})],1)])],1)]),t.showConditions?a("div",{staticClass:"mt-10"},[a("div",{staticClass:"color-grey-3"},[a("span",{staticClass:"mr-10"},[t._v("Режим работы:")]),a("span",{staticClass:"mr-10"},[t._v("с")]),a("app-input",{attrs:{width:"60px",inline:!0,inputAttrs:{class:"color-purple"},showErrors:!1,errors:t.errors.timeFrom,mask:"99:99"},model:{value:t.values.timeFrom,callback:function(e){t.$set(t.values,"timeFrom",e)},expression:"values.timeFrom"}}),a("span",{staticClass:"mr-10"},[t._v("по")]),a("app-input",{attrs:{width:"60px",inline:!0,inputAttrs:{class:"color-purple"},showErrors:!1,errors:t.errors.timeTo,mask:"99:99"},model:{value:t.values.timeTo,callback:function(e){t.$set(t.values,"timeTo",e)},expression:"values.timeTo"}})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("app-input",{attrs:{label:"Ставка зарплаты",errors:t.errors.salary,sufix:"₽"},model:{value:t.values.salary,callback:function(e){t.$set(t.values,"salary",e)},expression:"values.salary"}})],1),a("div",{staticClass:"col-lg-6"},[a("app-input",{attrs:{label:"Штраф за прогул",errors:t.errors.fine,sufix:"₽"},model:{value:t.values.fine,callback:function(e){t.$set(t.values,"fine",e)},expression:"values.fine"}})],1)]),a("div",{staticClass:"color-grey-3"},[a("span",{staticClass:"mr-10"},[t._v("Штраф за ответ дольше:")]),a("app-input",{staticClass:"mr-5",attrs:{showErrors:!1,width:"30px",inline:!0,inputAttrs:{class:"color-purple"},errors:t.errors.fineLonger},model:{value:t.values.fineLonger,callback:function(e){t.$set(t.values,"fineLonger",e)},expression:"values.fineLonger"}}),a("span",{staticClass:"mr-20"},[t._v("мин")]),a("span",{staticClass:"mr-10"},[t._v("Штраф: ")]),a("app-input",{staticClass:"mr-5",attrs:{width:"30px",inline:!0,inputAttrs:{class:"color-purple"},errors:t.errors.fineForAnswer,showErrors:!1},model:{value:t.values.fineForAnswer,callback:function(e){t.$set(t.values,"fineForAnswer",e)},expression:"values.fineForAnswer"}}),a("span",[t._v("₽ ")])],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("app-input",{attrs:{label:"Расчетный день",errors:t.errors.payDay},model:{value:t.values.payDay,callback:function(e){t.$set(t.values,"payDay",e)},expression:"values.payDay"}})],1),a("div",{staticClass:"col-lg-6"},[a("app-input",{attrs:{label:"Выплачивать",errors:t.errors.paySum},model:{value:t.values.paySum,callback:function(e){t.$set(t.values,"paySum",e)},expression:"values.paySum"}})],1),a("div",{staticClass:"col-lg-6"},[a("app-input",{attrs:{label:"Аванс расчет",errors:t.errors.prepay},model:{value:t.values.prepay,callback:function(e){t.$set(t.values,"prepay",e)},expression:"values.prepay"}})],1),a("div",{staticClass:"col-lg-6"},[a("app-input",{attrs:{label:"Выплата аванса",errors:t.errors.payPrepay},model:{value:t.values.payPrepay,callback:function(e){t.$set(t.values,"payPrepay",e)},expression:"values.payPrepay"}})],1)])]):t._e()]),a("div",{staticClass:"d-flex justify-content-center"},[a("app-button",{staticClass:"add-staff-form__btn mt-10",attrs:{type:"submit",color:"orange-grad"}},[t._v("Добавить")])],1)])])},u=[],p=(a("caad"),a("d3b7"),a("ac1f"),a("2532"),a("ddb0"),a("96cf"),a("1da1")),d=a("2321"),v=a("e940"),b=a("d5c2"),f=a("1b40"),m=a("506a"),O=a("eb38"),j=a.n(O),y=a("a6f4"),h=a("72a7"),g=a("8fbb"),C=a("84f8"),w=a("ade3"),k=a("a549"),x=function t(){Object(n["a"])(this,t),Object(w["a"])(this,"FIO",void 0),Object(w["a"])(this,"phone",void 0),Object(w["a"])(this,"NumberOfCard",void 0),Object(w["a"])(this,"NumberOfPassport",void 0),Object(w["a"])(this,"INN",void 0),Object(w["a"])(this,"StartWork",void 0),Object(w["a"])(this,"EndWork",void 0),Object(w["a"])(this,"SalaryRate",void 0),Object(w["a"])(this,"PenaltyForAbsenteeism",void 0),Object(w["a"])(this,"AnswerLonger",void 0),Object(w["a"])(this,"PenaltyRate",void 0),Object(w["a"])(this,"CheckoutDay",void 0),Object(w["a"])(this,"PayOff",void 0),Object(w["a"])(this,"AdvanceCalculation",void 0),Object(w["a"])(this,"AdvancePayment",void 0)};Object(l["a"])([Object(k["a"])()],x.prototype,"NumberOfCard",void 0),Object(l["a"])([Object(k["a"])()],x.prototype,"NumberOfPassport",void 0),Object(l["a"])([Object(k["a"])()],x.prototype,"INN",void 0),Object(l["a"])([Object(k["a"])()],x.prototype,"StartWork",void 0),Object(l["a"])([Object(k["a"])()],x.prototype,"EndWork",void 0),Object(l["a"])([Object(k["a"])()],x.prototype,"SalaryRate",void 0),Object(l["a"])([Object(k["a"])()],x.prototype,"PenaltyForAbsenteeism",void 0),Object(l["a"])([Object(k["a"])()],x.prototype,"AnswerLonger",void 0),Object(l["a"])([Object(k["a"])()],x.prototype,"PenaltyRate",void 0),Object(l["a"])([Object(k["a"])()],x.prototype,"CheckoutDay",void 0),Object(l["a"])([Object(k["a"])()],x.prototype,"PayOff",void 0),Object(l["a"])([Object(k["a"])()],x.prototype,"AdvanceCalculation",void 0),Object(l["a"])([Object(k["a"])()],x.prototype,"AdvancePayment",void 0);var _=function(t){Object(o["a"])(a,t);var e=Object(i["a"])(a);function a(){return Object(n["a"])(this,a),e.apply(this,arguments)}return a}(f["d"]);_=Object(l["a"])([Object(f["a"])({components:{PhoneInput:d["a"],svgPlus:j.a},setup:function(t,e){var a=e.emit,r=Object(b["a"])({fields:{fio:Object(v["a"])("",[m["string"]().required()]),phone:Object(v["a"])("",[m["number"]().typeError("Введите корректный номер телефона ")]),passport:Object(v["a"])("",[m["string"]()]),inn:Object(v["a"])("",[m["string"]()]),card:Object(v["a"])(null,[m["string"]().length(16).nullable()]),salary:Object(v["a"])(null,[m["number"]().nullable()]),fine:Object(v["a"])(null,[m["number"]().nullable()]),timeFrom:Object(v["a"])("",[m["string"]().test((function(t){return!t.includes("_")}))]),timeTo:Object(v["a"])("",[m["string"]().test((function(t){return!t.includes("_")}))]),fineLonger:Object(v["a"])(null,[m["number"]().nullable()]),fineForAnswer:Object(v["a"])(null,[m["number"]().nullable()]),paySum:Object(v["a"])(null,[m["number"]().nullable()]),payDay:Object(v["a"])(null,[m["number"]().nullable()]),prepay:Object(v["a"])(null,[m["number"]().nullable()]),payPrepay:Object(v["a"])(null,[m["number"]().nullable()])},rename:{fio:"FIO",passport:"NumberOfPassport",inn:"INN",card:"NumberOfCard",salary:"SalaryRate",fine:"PenaltyForAbsenteeism",timeFrom:"StartWork",timeTo:"EndWork",fineLonger:"AnswerLonger",fineForAnswer:"PenaltyRate",paySum:"PayOff",payDay:"CheckoutDay",prepay:"AdvanceCalculation",payPrepay:"AdvancePayment"}}),s=r.handleSubmit,n=r.values,o=r.errors,i=r.serialize,l=Object(h["a"])({toast:{error:Object(g["a"])(),success:function(){return"Сотрудник успешно добавлен!"}}}),c=l.exec,u=l.error,d=s(Object(p["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=i(),t.next=3,c(Object(C["b"])(x,e));case 3:if(!u.value){t.next=5;break}return t.abrupt("return");case 5:a("send");case 6:case"end":return t.stop()}}),t)})))),f=Object(y["e"])(!1),O=function(){f.value=!f.value},j=Object(y["e"])(!1),w=function(){j.value=!j.value};return{showConditions:j,toggleConditions:w,showAdditional:f,onSubmit:d,values:n,errors:o,toggleAdditional:O}}})],_);var A=_,P=A,S=(a("da26"),a("2877")),$=Object(S["a"])(P,c,u,!1,null,null,null),F=$.exports,E=a("9c8b"),N=a("e51b"),R=function(t){Object(o["a"])(a,t);var e=Object(i["a"])(a);function a(){return Object(n["a"])(this,a),e.apply(this,arguments)}return a}(f["d"]);R=Object(l["a"])([Object(f["a"])({components:{ModalContent:N["a"],AddCardForm:E["a"],AddStaffForm:F},setup:function(t,e){var a=e.emit,r=function(){a("send"),a("close")};return{onSend:r}}})],R);var D=R,T=D,L=(a("6298"),Object(S["a"])(T,r,s,!1,null,null,null));e["default"]=L.exports},2321:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"phone-input"},[a("app-input",t._g(t._b({attrs:{mask:"+7 999 999 99 99"}},"app-input",t.$attrs,!1),t.$listeners))],1)},s=[],n=a("d4ec"),o=a("262e"),i=a("2caf"),l=a("9ab4"),c=a("1b40"),u=function(t){Object(o["a"])(a,t);var e=Object(i["a"])(a);function a(){return Object(n["a"])(this,a),e.apply(this,arguments)}return a}(c["d"]);u=Object(l["a"])([Object(c["a"])({})],u);var p=u,d=p,v=a("2877"),b=Object(v["a"])(d,r,s,!1,null,null,null);e["a"]=b.exports},2532:function(t,e,a){"use strict";var r=a("23e7"),s=a("5a34"),n=a("1d80"),o=a("ab13");r({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(n(this)).indexOf(s(t),arguments.length>1?arguments[1]:void 0)}})},"5a34":function(t,e,a){var r=a("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},6298:function(t,e,a){"use strict";a("9655")},"72a7":function(t,e,a){"use strict";a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return l}));var r=a("5530"),s=a("85cd"),n=a("84f8"),o=function(t){return Object(s["a"])((function(t){var e=t.page;return{method:"GET",url:"/staff",params:{page:e}}}),Object(r["a"])({},t))},i=function(t){return Object(s["a"])((function(t){return{method:"POST",url:"/staff",data:Object(n["a"])(t)}}),Object(r["a"])({},t))},l=function(t){return Object(s["a"])((function(t){var e=t.id;return{method:"DELETE",url:"/staff/".concat(e)}}),Object(r["a"])({},t))}},9655:function(t,e,a){},a549:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var r=a("d92d"),s=function(){return Object(r["a"])((function(t){var e=t.value;return e||void 0}))}},ab13:function(t,e,a){var r=a("b622"),s=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[s]=!1,"/./"[t](e)}catch(r){}}return!1}},d5c2:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("caad"),a("d81d"),a("b64b"),a("d3b7"),a("2532"),a("3ca3"),a("ddb0"),a("96cf");var r=a("1da1"),s=a("a6f4");function n(t){var e={watchAfterSubmit:!0,fields:{},rename:{}},a=Object.assign({},e,t),n=a.fields,o=a.watchAfterSubmit,i=a.rename,l={},c={},u=Object(s["e"])(!1),p=Object(s["e"])(!1),d=Object(s["e"])(!1);Object.keys(n).map((function(t){var e=n[t];l[t]=e.value,c[t]=e.errors}));var v=Object(s["d"])(l),b=Object(s["d"])(c),f=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=Object.keys(n).map((function(t){var e=n[t];return e.validate()})),t.next=3,Promise.all(e);case 3:return a=t.sent,t.abrupt("return",!a.includes(!1));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(t){return Object(r["a"])(regeneratorRuntime.mark((function e(){var a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return p.value=!0,e.next=3,f();case 3:if(u.value){e.next=5;break}return e.abrupt("return");case 5:if(!d.value){e.next=7;break}return e.abrupt("return");case 7:return d.value=!0,e.next=10,t.apply(void 0,a);case 10:d.value=!1;case 11:case"end":return e.stop()}}),e)})))},O=function(){var t=Object.keys(v),e={};return t.map((function(t){var a=i[t];a||(a=t),e[a]=v[t]})),e};return Object(s["h"])(b,(function(t){var e=Object.keys(t).map((function(e){var a=t[e];return a.length<1}));u.value=!e.includes(!1)})),Object(s["h"])(p,(function(){p&&o&&Object(s["h"])(v,(function(t){f()}))})),{values:v,errors:b,isValid:u,handleSubmit:m,validate:f,serialize:O}}},d701:function(t,e,a){},da26:function(t,e,a){"use strict";a("d701")},eb38:function(t,e,a){a("99af");var r=a("ded3"),s=a("4082");t.exports={functional:!0,render:function(t,e){var a=e._c,n=(e._v,e.data),o=e.children,i=void 0===o?[]:o,l=n.class,c=n.staticClass,u=n.style,p=n.staticStyle,d=n.attrs,v=void 0===d?{}:d,b=s(n,["class","staticClass","style","staticStyle","attrs"]);return a("svg",r({class:[l,c],style:[u,p],attrs:Object.assign({width:"10",height:"11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v)},b),i.concat([a("path",{attrs:{d:"M5.508 4.773h4.326v1.094H5.508v4.707H4.326V5.867H.088V4.773h4.238V.223h1.182v4.55z",fill:"currentColor"}})]))}}}}]);
//# sourceMappingURL=chunk-5cad94ff.f90d7c45.js.map