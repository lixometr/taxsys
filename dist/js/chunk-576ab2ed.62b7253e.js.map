{"version":3,"sources":["webpack:///./src/views/CPartner/Statistics/Statistics.vue?ecda","webpack:///./src/components/Statistics/StatisticsParkCommission.vue?d1f6","webpack:///./src/components/Statistics/StatisticsTravels.vue?9065","webpack:///./src/components/Statistics/StatisticsPayOff.vue?05c7","webpack:///./src/components/Statistics/StatisticsRatio.vue?38b9","webpack:///./src/components/Statistics/StatisticsRow.vue?8f32","webpack:///./src/views/CPartner/Statistics/Statistics.vue?34b9","webpack:///./src/components/Statistics/StatisticsParkCommission.vue?cee2","webpack:///./src/components/Statistics/StatisticsItem.vue?0f88","webpack:///./src/components/Statistics/StatisticsItem.vue","webpack:///./src/components/Statistics/StatisticsItem.vue?122c","webpack:///./src/components/Statistics/StatisticsItem.vue?c5f5","webpack:///./src/components/Statistics/StatisticsParkCommission.vue","webpack:///./src/components/Statistics/StatisticsParkCommission.vue?138e","webpack:///./src/components/Statistics/StatisticsParkCommission.vue?8ddb","webpack:///./src/components/Statistics/StatisticsPayOff.vue?7f79","webpack:///./src/components/Statistics/StatisticsPayOff.vue","webpack:///./src/components/Statistics/StatisticsPayOff.vue?600e","webpack:///./src/components/Statistics/StatisticsPayOff.vue?2f66","webpack:///./src/components/Statistics/StatisticsRatio.vue?bab0","webpack:///./src/components/Statistics/StatisticsRatio.vue","webpack:///./src/components/Statistics/StatisticsRatio.vue?be14","webpack:///./src/components/Statistics/StatisticsRatio.vue?21f7","webpack:///./src/components/Statistics/StatisticsTravels.vue?f045","webpack:///./src/components/Statistics/StatisticsTravels.vue","webpack:///./src/components/Statistics/StatisticsTravels.vue?30c4","webpack:///./src/components/Statistics/StatisticsTravels.vue?d963","webpack:///./src/components/Statistics/StatisticsRow.vue?4c46","webpack:///./src/components/Statistics/StatisticsRow.vue","webpack:///./src/components/Statistics/StatisticsRow.vue?47fc","webpack:///./src/components/Statistics/StatisticsRow.vue?4cbe","webpack:///./src/api/statistics.ts","webpack:///./src/dto/statistics.dto.ts","webpack:///./src/views/CPartner/Statistics/Statistics.vue","webpack:///./src/views/CPartner/Statistics/Statistics.vue?43f3","webpack:///./src/views/CPartner/Statistics/Statistics.vue?e4d9","webpack:///./src/transformers/date.transform.ts","webpack:///./src/components/Statistics/StatisticsItem.vue?3df5","webpack:///./node_modules/class-transformer/esm5/decorators/transform.decorator.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","date","on","$event","scopedSlots","_u","key","fn","model","value","callback","$$v","agregator","expression","proxy","statistics","staticRenderFns","_v","_s","parkCommission","currency","chartOptions","series","_t","component","$store","getters","fees","total_agreg_fee","type","Object","default","setup","props","item","datesObj","data","categories","dates","keys","map","Date","sort","a","b","getTime","format","chart","toolbar","show","zoom","enabled","stroke","curve","dataLabels","xaxis","labels","style","fontFamily","datetimeFormatter","year","month","day","hour","legend","colors","tooltip","custom","seriesIndex","dataPointIndex","park_fee","name","components","StatisticsItem","drivers","total_paid","total_drivers","total_pay_fee","plotOptions","pie","customScale","donut","size","position","fontSize","formatter","seriesName","opts","seriesSum","w","globals","itemMargin","horizontal","vertical","fill","opacity","trips","total_cashless","total_cash","orderSum","payoutSum","emit","stacked","bar","borderRadius","reduce","sum","cur","fillColor","total_payout","totalDrivers","totalActiveDrivers","totalNewDrivers","total_active_drivers","total_new_drivers","useApi","method","url","params","undefined","today","weekAgo","setDate","getDate","start","end","toFetch","date_from","date_to","fetchData","loading","toast","error","exec","result","toSend","travelsValue","driversValue","parkCommissionValue","AgregatorFilters","PageFilters","StatisticsRow","StatisticsTravels","StatisticsRatio","StatisticsPayOff","StatisticsParkCommission","metaInfo","title","DateTransform","Transform","transformFn","options","target","propertyName","addTransformMetadata","constructor"],"mappings":"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","file":"js/chunk-576ab2ed.62b7253e.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Statistics.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatisticsParkCommission.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatisticsTravels.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatisticsPayOff.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatisticsRatio.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatisticsRow.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-statistics flex-layout flex-1\"},[_c('page-filters',{attrs:{\"calendar\":_vm.date},on:{\"update:calendar\":function($event){_vm.date=$event}},scopedSlots:_vm._u([{key:\"filters\",fn:function(){return [_c('agregator-filters',{model:{value:(_vm.agregator),callback:function ($$v) {_vm.agregator=$$v},expression:\"agregator\"}})]},proxy:true}])}),_c('statistics-row',{staticClass:\"mt-20\",attrs:{\"value\":_vm.statistics}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-7 flex-layout\"},[_c('statistics-travels',{staticClass:\"statistics-item flex-1\",attrs:{\"value\":_vm.statistics}})],1),_c('div',{staticClass:\"col-lg-5 flex-layout\"},[_c('statistics-ratio',{staticClass:\"statistics-item flex-1\",attrs:{\"value\":_vm.statistics}})],1),_c('div',{staticClass:\"col-lg-7 flex-layout\"},[_c('statistics-park-commission',{staticClass:\"statistics-item flex-1\",attrs:{\"value\":_vm.statistics}})],1),_c('div',{staticClass:\"col-lg-5 flex-layout\"},[_c('statistics-pay-off',{staticClass:\"statistics-item flex-1\",attrs:{\"value\":_vm.statistics}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('statistics-item',{staticClass:\"statistics-commission\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"statistics-commission__header-row\"},[_c('div',{staticClass:\"statistics-item__title\"},[_vm._v(\"Комиссия парка\")]),_c('div',{staticClass:\"statistics-commission__header-price\"},[_vm._v(\" \"+_vm._s(_vm.parkCommission)+\" \"+_vm._s(_vm.currency)+\" \")])])]},proxy:true}])},[[_c('apexchart',{attrs:{\"width\":\"100%\",\"height\":\"350\",\"type\":\"area\",\"options\":_vm.chartOptions,\"series\":_vm.series}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"statistics-item app-card\"},[_c('div',{staticClass:\"statistics-item__header\"},[_vm._t(\"header\")],2),_c('div',{staticClass:\"statistics-item__content\"},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\n\n@Component\nexport default class StatisticsItem extends Vue {}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatisticsItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatisticsItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StatisticsItem.vue?vue&type=template&id=91035a3c&\"\nimport script from \"./StatisticsItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./StatisticsItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./StatisticsItem.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport StatisticsItem from \"./StatisticsItem.vue\";\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport { StatisticsEntity } from \"@/models/statistics.entity\";\nimport { computed, toRefs } from \"@vue/composition-api\";\nimport useMoment from \"@/compositions/useMoments\";\ninterface IProps {\n  [name: string]: any;\n  item: StatisticsEntity;\n}\n@Component({\n  setup(props: IProps) {\n    const { value: item } = toRefs<IProps>(props);\n    const datesObj = computed(() => item.value?.fees?.data || {});\n    const categories = computed(() => {\n      const dates = Object.keys(datesObj.value).map((item) => {\n        return new Date(item);\n      });\n      dates.sort((a, b) => b.getTime() - a.getTime());\n      return dates.map(date => {\n        return useMoment(date).format('YYYY-MM-DD')\n      })\n      // console.log(dates);\n      // return dates;\n    });\n    const chartOptions = computed(() => ({\n      chart: {\n        toolbar: {\n          show: false,\n        },\n        zoom: {\n          enabled: false,\n        },\n      },\n      stroke: {\n        curve: \"smooth\",\n      },\n\n      dataLabels: {\n        enabled: false,\n      },\n      xaxis: {\n        type: \"datetime\",\n        categories: categories.value,\n        labels: {\n          style: { fontFamily: \"Montserrat\" },\n          datetimeFormatter: {\n            year: \"yyyy\",\n            month: \"dd.MM.yy\",\n            day: \"dd.MM\",\n            hour: \"HH:mm\",\n          },\n        },\n      },\n      legend: {\n        show: false,\n      },\n      colors: [\"#5A13A7\"],\n\n      tooltip: {\n        enabled: true,\n        custom: function ({ series, seriesIndex, dataPointIndex }) {\n          return (\n            '<div class=\"statistics-item__tooltip\">' +\n            \"<span>\" +\n            series[seriesIndex][dataPointIndex] +\n            \"</span>\" +\n            \"</div>\"\n          );\n        },\n      },\n    }));\n    const series = computed(() => {\n      const data = Object.keys(datesObj.value).map(\n        (date) => datesObj.value[date].park_fee\n      );\n      return [\n        {\n          name: \"Сумма заказов\",\n          data,\n        },\n      ];\n    });\n\n    return {\n      series,\n      chartOptions,\n    };\n  },\n  components: { StatisticsItem },\n})\nexport default class StatisticsParmCommission extends Vue {\n  @Prop({ type: Object, default: () => ({}) }) value: StatisticsEntity;\n\n  get currency() {\n    return this.$store.getters.currency;\n  }\n  get parkCommission() {\n    return this.value.fees?.total_agreg_fee || 0;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatisticsParkCommission.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatisticsParkCommission.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StatisticsParkCommission.vue?vue&type=template&id=e4488d76&\"\nimport script from \"./StatisticsParkCommission.vue?vue&type=script&lang=ts&\"\nexport * from \"./StatisticsParkCommission.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./StatisticsParkCommission.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('statistics-item',{staticClass:\"statistics-travels h-100\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"statistics-item__title\"},[_vm._v(\"Выплаты водителям\")])]},proxy:true}])},[[_c('apexchart',{attrs:{\"width\":\"100%\",\"height\":\"400\",\"type\":\"donut\",\"options\":_vm.chartOptions,\"series\":_vm.series}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport StatisticsItem from \"./StatisticsItem.vue\";\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport { StatisticsEntity } from \"@/models/statistics.entity\";\n\n@Component({\n  setup() {\n    const chartOptions = {\n      chart: {\n        type: \"donut\",\n      },\n      plotOptions: {\n        pie: {\n          customScale: 1,\n          donut: {\n            size: \"75%\",\n          },\n        },\n      },\n\n      dataLabels: {\n        enabled: false,\n      },\n\n      legend: {\n        show: true,\n        position: \"bottom\",\n        fontSize: \"16px\",\n        fontFamily: \"Montserrat\",\n        formatter: function (seriesName, opts) {\n          const seriesSum = opts.w.globals.series[opts.seriesIndex];\n          return `<div class=\"statistics-item__legend\">\n            ${seriesName} - <b>${seriesSum} ₽</b>\n          </div>`;\n        },\n        itemMargin: {\n          horizontal: 20,\n          vertical: 0,\n        },\n      },\n      colors: [\"#45117B\", \"#FFB801\", \"#F44879\"],\n      fill: {\n        opacity: 1,\n      },\n      tooltip: {\n        enabled: true,\n        custom: function ({ series, seriesIndex, dataPointIndex, w }) {\n          return (\n            '<div class=\"statistics-item__tooltip\">' +\n            \"<span>\" +\n            series[seriesIndex] +\n            \"</span>\" +\n            \"</div>\"\n          );\n        },\n      },\n      labels: [\n        \"Выплата агрегаторам\",\n        \"Выплачено водителям\",\n        \"Комиссия платежной системы\",\n      ],\n    };\n\n    return {\n      chartOptions,\n    };\n  },\n  components: { StatisticsItem },\n})\nexport default class StatisticsTravels extends Vue {\n  @Prop({ type: Object, default: () => ({}) }) value: StatisticsEntity;\n  get series() {\n    return [\n      this.value.drivers?.total_paid,\n      this.value.drivers?.total_drivers,\n      this.value.drivers?.total_pay_fee,\n    ];\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatisticsPayOff.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatisticsPayOff.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StatisticsPayOff.vue?vue&type=template&id=9f49d614&\"\nimport script from \"./StatisticsPayOff.vue?vue&type=script&lang=ts&\"\nexport * from \"./StatisticsPayOff.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./StatisticsPayOff.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('statistics-item',{staticClass:\"statistics-travels h-100\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"statistics-item__title\"},[_vm._v(\"Соотношение\")])]},proxy:true}])},[[_c('apexchart',{attrs:{\"width\":\"100%\",\"height\":\"350\",\"type\":\"donut\",\"options\":_vm.chartOptions,\"series\":_vm.series}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport StatisticsItem from \"./StatisticsItem.vue\";\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport { StatisticsEntity } from \"@/models/statistics.entity\";\n\n@Component({\n  setup() {\n    const chartOptions = {\n      chart: {\n        type: \"donut\",\n      },\n      plotOptions: {\n        pie: {\n          customScale: 1,\n          donut: {\n            size: \"75%\",\n            labels: {\n              show: true,\n              name: {\n                show: true,\n              },\n              value: {\n                show: true,\n              },\n            },\n          },\n        },\n      },\n\n      dataLabels: {\n        enabled: false,\n      },\n\n      legend: {\n        show: true,\n        position: \"bottom\",\n        fontSize: \"16px\",\n        fontFamily: \"Montserrat\",\n        formatter: function (seriesName, opts) {\n          const seriesSum = opts.w.globals.series[opts.seriesIndex];\n          return `<div class=\"statistics-item__legend\">\n            ${seriesName} - <b>${seriesSum} ₽</b>\n          </div>`;\n        },\n        itemMargin: {\n          horizontal: 20,\n          vertical: 0,\n        },\n      },\n      colors: [\"#45117B\", \"#FFB801\", \"#F44879\"],\n      fill: {\n        opacity: 1,\n      },\n      tooltip: {\n        enabled: true,\n        custom: function ({ series, seriesIndex, dataPointIndex, w }) {\n          return (\n            '<div class=\"statistics-item__tooltip\">' +\n            \"<span>\" +\n            series[seriesIndex] +\n            \"</span>\" +\n            \"</div>\"\n          );\n        },\n      },\n      labels: [\"Безналичные\", \"Наличные\"],\n    };\n\n    return {\n      chartOptions,\n    };\n  },\n  components: { StatisticsItem },\n})\nexport default class StatisticsTravels extends Vue {\n  @Prop({ type: Object, default: () => ({}) }) value: StatisticsEntity;\n  get series() {\n    return [this.value.trips?.total_cashless, this.value.trips?.total_cash];\n  }\n  get ratioValue() {\n    return this.value.trips;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatisticsRatio.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatisticsRatio.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StatisticsRatio.vue?vue&type=template&id=7ec8e428&\"\nimport script from \"./StatisticsRatio.vue?vue&type=script&lang=ts&\"\nexport * from \"./StatisticsRatio.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./StatisticsRatio.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('statistics-item',{staticClass:\"statistics-travels\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"statistics-item__title\"},[_vm._v(\"Сумма поездок\")])]},proxy:true}])},[[_c('div',{staticClass:\"statistics-travels__labels\"},[_c('div',{staticClass:\"statistics-travels__label\"},[_vm._v(\" Сумма заказов - \"),_c('span',[_vm._v(_vm._s(_vm.orderSum)+\" \"+_vm._s(_vm.currency))])]),_c('div',{staticClass:\"statistics-travels__label\"},[_vm._v(\" Расчетная выплата - \"),_c('span',[_vm._v(_vm._s(_vm.payoutSum)+\" \"+_vm._s(_vm.currency))])])]),_c('apexchart',{attrs:{\"width\":\"100%\",\"height\":\"400\",\"type\":\"bar\",\"options\":_vm.chartOptions,\"series\":_vm.series}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport StatisticsItem from \"./StatisticsItem.vue\";\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport { StatisticsEntity } from \"@/models/statistics.entity\";\nimport { computed, toRefs } from \"@vue/composition-api\";\ninterface IProps {\n  [key: string]: any;\n  value: StatisticsEntity;\n}\n@Component({\n  setup(props: IProps, { emit }) {\n    const { value: item} = toRefs<IProps>(props);\n    const chartOptions = {\n      chart: {\n        stacked: true,\n        toolbar: {\n          show: false,\n        },\n        zoom: {\n          enabled: false,\n        },\n      },\n      plotOptions: {\n        bar: {\n          borderRadius: 8,\n          horizontal: false,\n        },\n      },\n      dataLabels: {\n        enabled: false,\n      },\n      xaxis: {\n        type: \"datetime\",\n        categories: [\n          \"01/01/2011 GMT\",\n          \"01/02/2011 GMT\",\n          \"01/03/2011 GMT\",\n          \"01/04/2011 GMT\",\n          \"01/05/2011 GMT\",\n          \"01/06/2011 GMT\",\n        ],\n        labels: {\n          style: { fontFamily: \"Montserrat\" },\n          datetimeFormatter: {\n            year: \"yyyy\",\n            month: \"dd.MM.yy\",\n            day: \"dd.MM\",\n            hour: \"HH:mm\",\n          },\n        },\n      },\n      legend: {\n        show: false,\n        position: \"top\",\n        fontSize: \"16px\",\n        fontFamily: \"Montserrat\",\n        formatter: function (seriesName, opts) {\n          const seriesSum = opts.w.globals.series[opts.seriesIndex].reduce(\n            (sum, cur) => sum + cur,\n            0\n          );\n          return `${seriesName} - <b>${seriesSum} ₽</b>`;\n        },\n        itemMargin: {\n          horizontal: 20,\n          vertical: 0,\n        },\n      },\n      colors: [\"#45117B\", \"#FFB801\"],\n      fill: {\n        opacity: 1,\n      },\n      tooltip: {\n        enabled: true,\n        custom: function ({ series, seriesIndex, dataPointIndex, w }) {\n          return (\n            '<div class=\"statistics-item__tooltip\">' +\n            \"<span>\" +\n            series[seriesIndex][dataPointIndex] +\n            \"</span>\" +\n            \"</div>\"\n          );\n        },\n      },\n    };\n    const series = [\n      {\n        data: [30, 40, 35, 50, 49, 60, 70, 91],\n        fillColor: \"#f00\",\n      },\n      {\n        data: [50, 40, 35, 50, 49, 60, 70, 91],\n        fillColor: \"#008FFB\",\n      },\n    ];\n    const orderSum = computed(() => {\n      return item.value.trips?.sum\n    });\n    const payoutSum = computed(() => {\n      return item.value.trips?.total_payout\n    });\n\n    return {\n      payoutSum,\n      orderSum,\n      series,\n      chartOptions,\n    };\n  },\n  components: { StatisticsItem },\n})\nexport default class StatisticsTravels extends Vue {\n  @Prop({ type: Object, default: () => ({}) }) value: StatisticsEntity;\n  get currency() {\n    return this.$store.getters.currency;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatisticsTravels.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatisticsTravels.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StatisticsTravels.vue?vue&type=template&id=fb6c8d06&\"\nimport script from \"./StatisticsTravels.vue?vue&type=script&lang=ts&\"\nexport * from \"./StatisticsTravels.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./StatisticsTravels.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"statistics-row app-card\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-3 col-md-6 statistics-row__title\"},[_vm._v(\" Количество водителей \")]),_c('div',{staticClass:\"col-lg-3 col-md-6\"},[_c('div',{staticClass:\"statistics-row__item\"},[_c('div',{staticClass:\"statistics-row__label\"},[_vm._v(\"Всего\")]),_c('div',{staticClass:\"statistics-row__value\"},[_vm._v(_vm._s(_vm.totalDrivers))])])]),_c('div',{staticClass:\"col-lg-3 col-md-6\"},[_c('div',{staticClass:\"statistics-row__item\"},[_c('div',{staticClass:\"statistics-row__label\"},[_vm._v(\"Активные\")]),_c('div',{staticClass:\"statistics-row__value\"},[_vm._v(_vm._s(_vm.totalActiveDrivers))])])]),_c('div',{staticClass:\"col-lg-3 col-md-6\"},[_c('div',{staticClass:\"statistics-row__item\"},[_c('div',{staticClass:\"statistics-row__label\"},[_vm._v(\"Новые\")]),_c('div',{staticClass:\"statistics-row__value\"},[_vm._v(_vm._s(_vm.totalNewDrivers))])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { StatisticsEntity } from \"@/models/statistics.entity\";\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\n\n@Component\nexport default class StatisticsRow extends Vue {\n  @Prop({ type: Object, default: () => ({}) }) value: StatisticsEntity;\n  get totalDrivers() {\n    return this.value.drivers?.total_drivers;\n  }\n  get totalActiveDrivers() {\n    return this.value.drivers?.total_active_drivers;\n  }\n  get totalNewDrivers() {\n    return this.value.drivers?.total_new_drivers;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatisticsRow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatisticsRow.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StatisticsRow.vue?vue&type=template&id=9976a74a&\"\nimport script from \"./StatisticsRow.vue?vue&type=script&lang=ts&\"\nexport * from \"./StatisticsRow.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./StatisticsRow.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import useApi, { UseApiOptions } from \"@/compositions/useApi\";\nimport { GetStatisticsDto } from \"@/dto/statistics.dto\";\nimport { StatisticsEntity } from \"@/models/statistics.entity\";\nimport { classToPlain } from \"class-transformer\";\n\nexport const useApiGetStatistics = (opts?: UseApiOptions) => useApi<GetStatisticsDto, StatisticsEntity>(\n    (data: GetStatisticsDto) => ({\n        method: 'GET',\n        url: '/stats',\n        params: classToPlain(data)\n    }), { ...opts })","import { DateTransform } from \"@/transformers/date.transform\"\nimport { Expose, Transform } from \"class-transformer\"\n\nexport class GetStatisticsDto {\n    @DateTransform()\n    date_from: Date\n    @DateTransform()\n    date_to: Date\n    @Transform(({ value }) => value === 'all' ? undefined : value)\n    agregator: string\n}","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport StatisticsParkCommission from \"@/components/Statistics/StatisticsParkCommission.vue\";\nimport StatisticsPayOff from \"@/components/Statistics/StatisticsPayOff.vue\";\nimport StatisticsRatio from \"@/components/Statistics/StatisticsRatio.vue\";\nimport StatisticsTravels from \"@/components/Statistics/StatisticsTravels.vue\";\nimport StatisticsRow from \"@/components/Statistics/StatisticsRow.vue\";\nimport PageFilters from \"@/components/Page/PageFilters.vue\";\nimport AgregatorFilters from \"@/components/Travels/AgregatorFilters.vue\";\nimport { computed, Ref, ref, watch } from \"@vue/composition-api\";\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { useApiGetStatistics } from \"@/api/statistics\";\nimport { errorHandler } from \"@/helpers/error-handler\";\nimport { plainToClass } from \"class-transformer\";\nimport { GetStatisticsDto } from \"@/dto/statistics.dto\";\nimport { StatisticsEntity } from \"@/models/statistics.entity\";\nimport useMoment from \"@/compositions/useMoments\";\n\n@Component({\n  setup() {\n    const today = new Date()\n    const weekAgo = new Date(today.setDate(today.getDate() - 7))\n    const date = ref({ start: weekAgo, end: new Date() });\n    const agregator = ref(\"all\");\n    const toFetch = computed(() => ({\n      date_from: date.value.start,\n      date_to: date.value.end,\n      agregator: agregator.value,\n    }));\n    const statistics = ref({} as StatisticsEntity);\n    const fetchData = async ({ loading = true } = {}) => {\n      const { exec, error, result } = useApiGetStatistics({\n        toast: { error: errorHandler() },\n        loading,\n      });\n      const toSend = plainToClass(GetStatisticsDto, toFetch.value);\n      await exec(toSend);\n      if (error.value) return;\n      statistics.value = result.value;\n    };\n    watch(toFetch, () => {\n      fetchData({ loading: false });\n    });\n    fetchData();\n  \n    const travelsValue = computed(() => {\n      return statistics.value.trips;\n    });\n    const driversValue = computed(() => {\n      return statistics.value.drivers;\n    });\n    const parkCommissionValue = computed(() => {\n      return statistics.value.fees;\n    });\n    return {\n      date,\n      agregator,\n      statistics,\n      travelsValue,\n      driversValue,\n      parkCommissionValue,\n    };\n  },\n  components: {\n    AgregatorFilters,\n    PageFilters,\n    StatisticsRow,\n    StatisticsTravels,\n    StatisticsRatio,\n    StatisticsPayOff,\n    StatisticsParkCommission,\n  },\n  metaInfo: {\n    title: \"Статистика\",\n  },\n})\nexport default class extends Vue {}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Statistics.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Statistics.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Statistics.vue?vue&type=template&id=527e0278&\"\nimport script from \"./Statistics.vue?vue&type=script&lang=ts&\"\nexport * from \"./Statistics.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Statistics.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import useMoment from \"@/compositions/useMoments\"\nimport { Transform } from \"class-transformer\"\nimport { ApiDate } from \"../types/constants\"\n\nexport const DateTransform = () => {\n    return Transform(({value}) => {\n        return value ? useMoment(value).format(ApiDate) : undefined\n    })\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatisticsItem.vue?vue&type=style&index=0&lang=scss&\"","import { defaultMetadataStorage } from '../storage';\n/**\n * Defines a custom logic for value transformation.\n *\n * Can be applied to properties only.\n */\nexport function Transform(transformFn, options) {\n    if (options === void 0) { options = {}; }\n    return function (target, propertyName) {\n        defaultMetadataStorage.addTransformMetadata({\n            target: target.constructor,\n            propertyName: propertyName,\n            transformFn: transformFn,\n            options: options,\n        });\n    };\n}\n//# sourceMappingURL=transform.decorator.js.map"],"sourceRoot":""}