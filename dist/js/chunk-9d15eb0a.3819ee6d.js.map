{"version":3,"sources":["webpack:///./src/components/Modals/AddCarRecordModal.vue?975c","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./src/transformers/integer.transform.ts","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./src/components/AppDatePicker.vue?c2f9","webpack:///./src/transformers/date.transform.ts","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./src/components/Car/AddCarRecordForm.vue?618a","webpack:///./src/compositions/validators/useForm.ts","webpack:///./src/components/Modals/AddCarRecordModal.vue?786d","webpack:///./src/components/Car/AddCarRecordForm.vue?c52c","webpack:///./src/dto/add-car-record.dto.ts","webpack:///./src/components/Car/AddCarRecordForm.vue","webpack:///./src/components/Car/AddCarRecordForm.vue?57c6","webpack:///./src/components/Car/AddCarRecordForm.vue?2f05","webpack:///./src/components/Modals/AddCarRecordModal.vue","webpack:///./src/components/Modals/AddCarRecordModal.vue?36fb","webpack:///./src/components/Modals/AddCarRecordModal.vue?6976","webpack:///./src/api/car.ts","webpack:///./src/components/AppDatePicker.vue?9c16","webpack:///./src/components/AppDatePicker.vue","webpack:///./src/components/AppDatePicker.vue?075b","webpack:///./src/components/AppDatePicker.vue?9a50"],"names":["$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","target","proto","forced","includes","searchString","String","this","indexOf","arguments","length","undefined","ToInteger","value","parseInt","isRegExp","module","exports","it","TypeError","DateTransform","format","wellKnownSymbol","MATCH","METHOD_NAME","regexp","error1","error2","useForm","params","defaultValues","watchAfterSubmit","fields","rename","Object","assign","plainValues","plainErrors","isValid","isSubmit","isSubmiting","keys","map","key","field","errors","values","validate","resolvers","Promise","all","boolArray","handleSubmit","cb","serialize","toSend","currentKey","newErrors","currentErrors","newValues","render","_vm","_h","$createElement","_c","_self","_g","staticClass","scopedSlots","_u","fn","_v","proxy","$listeners","attrs","id","on","onSend","staticRenderFns","$event","preventDefault","onSubmit","date","model","callback","$$v","$set","expression","run","works","Number","components","AppDatePicker","setup","props","emit","useField","required","toast","error","success","exec","car_id","component","ModalContent","AddCardForm","AddCarRecordForm","useApiCreateCar","opts","data","photoFront","photoBack","photoCtcBack","photoCtcFront","formData","method","url","useApiGetCarsRentable","withoutDriver","paginate","without_driver","useApiGetCarInfo","useApiDeleteCar","useApiCarUpdateTracker","tracker","useApiCarEndRent","driver_id","useApiBlockCar","useApiUnBlockCar","useApiCarAddInspection","useApiCarUpdateRequests","options","useApiCarUpdatePayoff","useApiCarGetOffers","useApiCarChangeDriver","driverId","class","hasErrors","_b","ref","inputValue","inputEvents","togglePopover","label","nativeOn","change","_attrs","defaultOptions","$attrs","type","Array","default"],"mappings":"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","file":"js/chunk-9d15eb0a.3819ee6d.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCarRecordModal.vue?vue&type=style&index=0&lang=scss&\"","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import { Transform } from \"class-transformer\"\n\nexport const ToInteger = () => {\n    return Transform(({ value }) => {\n        return parseInt(value)\n    })\n}","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppDatePicker.vue?vue&type=style&index=0&lang=scss&\"","import useMoment from \"@/compositions/useMoments\"\nimport { Transform } from \"class-transformer\"\nimport { ApiDate } from \"../types/constants\"\n\nexport const DateTransform = () => {\n    return Transform(({value}) => {\n        return value ? useMoment(value).format(ApiDate) : undefined\n    })\n}","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCarRecordForm.vue?vue&type=style&index=0&lang=scss&\"","import { reactive, ref, Ref, watch } from \"@vue/composition-api\";\nimport { UseFieldModel } from \"./useField\";\n\n\ninterface UseFormParams {\n    fields: {\n        [key: string]: UseFieldModel\n    },\n    watchAfterSubmit?: boolean,\n    rename?: {\n        [key: string]: string\n    },\n}\ninterface UseFormErrors {\n    [key: string]: Ref<string[]>\n}\nexport default function useForm(params: UseFormParams) {\n    const defaultValues: UseFormParams = {\n        watchAfterSubmit: true,\n        fields: {},\n        rename: {}\n    }\n    const { fields, watchAfterSubmit, rename } = Object.assign({}, defaultValues, params)\n    let plainValues = {}\n    let plainErrors = {}\n    const isValid = ref(false)\n    const isSubmit = ref(false)\n    const isSubmiting = ref(false)\n    Object.keys(fields).map(key => {\n        const field: UseFieldModel = fields[key]\n        plainValues[key] = field.value\n        plainErrors[key] = field.errors\n    })\n    const values = reactive<{ [key: string]: any }>(plainValues)\n    const errors: any = reactive<{ [key: string]: Array<string> }>(plainErrors)\n\n    const validate = async () => {\n        const resolvers = Object.keys(fields).map(key => {\n            const field: UseFieldModel = fields[key]\n            return field.validate()\n        })\n        const boolArray = await Promise.all(resolvers)\n        return !boolArray.includes(false)\n    }\n    const handleSubmit = (cb: Function) => {\n        return async (...params: any) => {\n            isSubmit.value = true\n            await validate()\n            if (!isValid.value) return\n            if (isSubmiting.value) return\n            isSubmiting.value = true\n            await cb(...params)\n            isSubmiting.value = false\n        }\n    }\n\n    const serialize = () => {\n        const keys = Object.keys(values)\n        const toSend: any = {}\n        keys.map(key => {\n            let currentKey = rename[key]\n            if (!currentKey) currentKey = key\n            toSend[currentKey] = values[key]\n        })\n        return toSend\n    }\n\n    watch(errors, (newErrors: any) => {\n        const boolArray = Object.keys(newErrors).map(key => {\n            const currentErrors = newErrors[key]\n            return currentErrors.length < 1\n        })\n        isValid.value = !boolArray.includes(false)\n    })\n    watch(isSubmit, () => {\n        if (isSubmit && watchAfterSubmit) {\n            watch(values, newValues => {\n                validate()\n            })\n        }\n    })\n\n\n    return { values, errors, isValid, handleSubmit, validate, serialize }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal-content',_vm._g({staticClass:\"add-car-record-modal\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h2',{staticClass:\"modal-title\"},[_vm._v(\"Добавить запись о ТО\")])]},proxy:true}])},_vm.$listeners),[[_c('add-car-record-form',{attrs:{\"id\":_vm.id},on:{\"send\":_vm.onSend}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add-car-record-form\"},[_c('form',{attrs:{\"action\":\"#\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('app-date-picker',{staticClass:\"mb-10\",attrs:{\"label\":\"Дата проведения\",\"errors\":_vm.errors.date},model:{value:(_vm.values.date),callback:function ($$v) {_vm.$set(_vm.values, \"date\", $$v)},expression:\"values.date\"}}),_c('app-input',{staticClass:\"mb-10\",attrs:{\"label\":\"Пробег\",\"errors\":_vm.errors.run},model:{value:(_vm.values.run),callback:function ($$v) {_vm.$set(_vm.values, \"run\", $$v)},expression:\"values.run\"}}),_c('app-input',{staticClass:\"mb-10\",attrs:{\"label\":\"Проведённые работы\",\"errors\":_vm.errors.works},model:{value:(_vm.values.works),callback:function ($$v) {_vm.$set(_vm.values, \"works\", $$v)},expression:\"values.works\"}}),_c('div',{staticClass:\"d-flex justify-content-center\"},[_c('app-button',{staticClass:\"add-car-record-form__btn mt-10\",attrs:{\"type\":\"submit\",\"color\":\"orange-grad\"}},[_vm._v(\"Выполнить\")])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { DateTransform } from \"@/transformers/date.transform\"\nimport { ToInteger } from \"@/transformers/integer.transform\"\n\nexport class AddCarRecordDto {\n    @ToInteger()\n    car_id: number\n    @ToInteger()\n    mileage: number\n    note: string\n    @DateTransform()\n    done_at: string\n}","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport AppDatePicker from \"../AppDatePicker.vue\";\nimport useField from \"@/compositions/validators/useField\";\nimport useForm from \"@/compositions/validators/useForm\";\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport * as yup from \"yup\";\nimport { useApiCarAddInspection } from \"@/api/car\";\nimport { errorHandler } from \"@/helpers/error-handler\";\nimport { plainToClass } from \"class-transformer\";\nimport { AddCarRecordDto } from \"@/dto/add-car-record.dto\";\nimport { toRefs } from \"@vue/composition-api\";\ninterface IProps {\n  [key: string]: any;\n  id: number;\n}\n@Component({\n  components: { AppDatePicker },\n  setup(props: IProps, { emit }) {\n    const { id } = toRefs<IProps>(props);\n    const { handleSubmit, values, errors, serialize } = useForm({\n      fields: {\n        date: useField(\"\", [yup.string().required()]),\n        run: useField(\"\", [yup.number().required()]),\n        works: useField(\"\", [yup.string().required()]),\n      },\n      rename: {\n        run: \"mileage\",\n        works: \"note\",\n        date: \"done_at\",\n      },\n    });\n    const onSubmit = handleSubmit(async () => {\n      const toSend = serialize();\n      const { exec, error } = useApiCarAddInspection({\n        toast: {\n          error: errorHandler(),\n          success: () => \"Запись успешно добавлена!\",\n        },\n      });\n      await exec(\n        plainToClass(AddCarRecordDto, { ...toSend, car_id: id.value })\n      );\n      if (error.value) return;\n      emit(\"send\");\n    });\n    return {\n      onSubmit,\n      values,\n      errors,\n    };\n  },\n})\nexport default class AddCarRecordForm extends Vue {\n  @Prop(Number) id: number\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCarRecordForm.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCarRecordForm.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AddCarRecordForm.vue?vue&type=template&id=189c0f14&\"\nimport script from \"./AddCarRecordForm.vue?vue&type=script&lang=ts&\"\nexport * from \"./AddCarRecordForm.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AddCarRecordForm.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\nimport AddCarRecordForm from '../Car/AddCarRecordForm.vue'\nimport AddCardForm from \"../AddCard/AddCardForm.vue\";\nimport ModalContent from \"./ModalContent.vue\";\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\n\n@Component({\n  components: { ModalContent, AddCardForm, AddCarRecordForm },\n  setup(props, { emit }) {\n    const onSend = () => {\n      emit(\"send\");\n      emit(\"close\");\n    };\n    return {\n      onSend,\n    };\n  },\n})\nexport default class AddCarRecordModal extends Vue {\n  @Prop(Number) id: number\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCarRecordModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCarRecordModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AddCarRecordModal.vue?vue&type=template&id=559b1f9a&\"\nimport script from \"./AddCarRecordModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./AddCarRecordModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AddCarRecordModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import useApi, { UseApiOptions } from '@/compositions/useApi'\nimport { AddCarRecordDto } from '@/dto/add-car-record.dto'\nimport { CarRequestsDto } from '@/dto/car-requests.dto'\nimport { CarTrackerDto } from '@/dto/car-tracker.dto'\nimport { CreateCarDto, UpdateCarPayoffDto } from '@/dto/car.dto'\nimport buildFormData from '@/helpers/build-form-data'\nimport { Car } from '@/models/car.entity'\nimport { classToPlain, plainToClass } from 'class-transformer'\n\nexport const useApiCreateCar = (opts?: UseApiOptions) =>\n  useApi<CreateCarDto, any>(\n    (data: CreateCarDto) => {\n      const toSend = {\n        ...classToPlain(data),\n        photoFront: data.photoFront || undefined,\n        photoBack: data.photoBack || undefined,\n        photoCtcBack: data.photoCtcBack || undefined,\n        photoCtcFront: data.photoCtcFront || undefined,\n      }\n      const formData = buildFormData(toSend)\n      return {\n        method: 'POST',\n        url: '/car',\n        data: formData,\n      }\n    },\n    { ...opts },\n  )\n\nexport const useApiGetCarsRentable = (opts?: UseApiOptions) =>\n  useApi<{ withoutDriver: boolean; paginate?: boolean }, any>(\n    ({ withoutDriver, paginate = true }) => ({\n      method: 'GET',\n      url: '/cars/rentable',\n      params: {\n        without_driver:\n          withoutDriver === false\n            ? 0\n            : withoutDriver === undefined\n            ? undefined\n            : 1,\n        paginate: paginate ? 10 : 0,\n      },\n    }),\n    { ...opts },\n  )\n\nexport const useApiGetCarInfo = (opts?: UseApiOptions) =>\n  useApi<{ id: number }, Car>(\n    ({ id }) => ({\n      method: 'GET',\n      url: `/car/${id}`,\n    }),\n    { ...opts },\n    async ({ data }) => {\n      return plainToClass(Car, data)\n    },\n  )\nexport const useApiDeleteCar = (opts?: UseApiOptions) =>\n  useApi<{ id: number }, any>(\n    ({ id }) => ({\n      method: 'DELETE',\n      url: `/car/${id}`,\n    }),\n    { ...opts },\n  )\nexport const useApiUpdateCar = (opts?: UseApiOptions) =>\n  useApi<{ id: number; data: any }, any>(\n    ({ id, data }) => ({\n      method: 'PUT',\n      url: `/car/${id}`,\n      data: data,\n    }),\n    { ...opts },\n  )\nexport const useApiCarUpdateTracker = (opts?: UseApiOptions) =>\n  useApi<{ data: CarTrackerDto; id: number }, any>(\n    ({ id, data }) => ({\n      method: 'PUT',\n      url: `/car/${id}`,\n      data: {\n        tracker: classToPlain(data),\n      },\n    }),\n    { ...opts },\n  )\nexport const useApiCarEndRent = (opts?: UseApiOptions) =>\n  useApi<{ id: number }, any>(\n    ({ id }) => ({\n      method: 'PUT',\n      url: `/car/${id}`,\n      data: {\n        driver_id: null,\n      },\n    }),\n    { ...opts },\n  )\nexport const useApiBlockCar = (opts?: UseApiOptions) =>\n  useApi<{ id: number }, any>(\n    ({ id }) => ({\n      method: 'POST',\n      url: `/car/${id}/tracker/block`,\n    }),\n    { ...opts },\n  )\nexport const useApiUnBlockCar = (opts?: UseApiOptions) =>\n  useApi<{ id: number }, any>(\n    ({ id }) => ({\n      method: 'POST',\n      url: `/car/${id}/tracker/unblock`,\n    }),\n    { ...opts },\n  )\nexport const useApiCarAddInspection = (opts?: UseApiOptions) =>\n  useApi<AddCarRecordDto, any>(\n    (data: AddCarRecordDto) => ({\n      method: 'POST',\n      url: `/inspection`,\n      data: classToPlain(data),\n    }),\n    { ...opts },\n  )\n\nexport const useApiCarUpdateRequests = (opts?: UseApiOptions) =>\n  useApi<{ data: CarRequestsDto; id: number }, any>(\n    ({ id, data }) => {\n      return {\n        method: 'PUT',\n        url: `/car/${id}`,\n        data: {\n          options: classToPlain(data),\n        },\n      }\n    },\n    { ...opts },\n  )\n\nexport const useApiCarUpdatePayoff = (opts?: UseApiOptions) =>\n  useApi<{ data: UpdateCarPayoffDto; id: number }, any>(\n    ({ id, data }) => {\n      return {\n        method: 'PUT',\n        url: `/car/${id}`,\n        data: classToPlain(data),\n      }\n    },\n    { ...opts },\n  )\nexport const useApiCarGetOffers = (opts?: UseApiOptions) =>\n  useApi<{ paginate?: number }, any>(\n    ({ paginate } = {}) => {\n      return {\n        method: 'GET',\n        url: `/cars/offers`,\n        params: {\n          paginate,\n        },\n      }\n    },\n    { ...opts },\n  )\n\nexport const useApiCarChangeDriver = (opts?: UseApiOptions) =>\n  useApi<{ driverId: number, id: number }, any>(\n    ({ id, driverId }) => {\n      return {\n        method: 'PUT',\n        url: `/car/${id}/changedriver`,\n        data: {\n          driver_id: driverId,\n        },\n      }\n    },\n    { ...opts },\n  )\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-datepicker\",class:{ error: _vm.hasErrors }},[_c('v-date-picker',_vm._g(_vm._b({scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar inputValue = ref.inputValue;\nvar inputEvents = ref.inputEvents;\nvar togglePopover = ref.togglePopover;\nreturn [_c('app-input',{attrs:{\"value\":inputValue,\"label\":_vm.label,\"errors\":_vm.errors},on:{\"click\":togglePopover},nativeOn:{\"change\":function($event){return inputEvents.change($event)}}})]}}])},'v-date-picker',_vm._attrs,false),_vm.$listeners))],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\n\n@Component({\n  setup() {\n    return {};\n  },\n})\nexport default class AppDatePicker extends Vue {\n  @Prop(String) label: string;\n  @Prop({ type: Array, default: () => [] }) errors: string[];\n  get hasErrors() {\n    return this.errors.length > 0;\n  }\n  get _attrs() {\n    const defaultOptions = {};\n    return Object.assign({}, defaultOptions, this.$attrs);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppDatePicker.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppDatePicker.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppDatePicker.vue?vue&type=template&id=05381376&\"\nimport script from \"./AppDatePicker.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppDatePicker.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AppDatePicker.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}